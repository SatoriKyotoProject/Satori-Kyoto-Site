<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SATORI Kyoto Project</title>
<style>
  :root{
    --bg:#000; --fg:#f7f7f7; --muted:#cfcfcf;
    --accent:#ffffff;
  }
  /* 全体 */
  html,body{height:100%}
  body{
    margin:0; background:var(--bg); color:var(--fg);
    font-family: "Hiragino Mincho ProN","Yu Mincho","Times New Roman",serif;
    -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility;
  }

  /* 言語スイッチ */
  .lang{
    position:fixed; top:12px; right:12px; display:flex; gap:.5rem; z-index:10;
  }
  .lang button{
    background:transparent; color:#bbb; border:1px solid #444;
    padding:.35rem .6rem; border-radius:999px; font-size:.85rem; cursor:pointer;
    backdrop-filter:saturate(120%) blur(1px);
  }
  .lang button.active{ color:#111; background:#f0f0f0; border-color:#f0f0f0; }

  /* Hero */
  .hero{
    position:relative; min-height:100svh; display:grid; place-items:center;
    padding:8svh 4vw;
  }
  .lines{
    position:absolute; inset:0 0 auto 0; top:16svh; height:min(28svh,280px);
    pointer-events:none; /* クリック貫通 */
  }
  .copy{
    position:relative; z-index:5; text-align:center; max-width:1100px; margin:0 auto;
    line-height:1.8; font-size:clamp(18px, 2.2vw, 28px);
    text-shadow: 0 1px 0 #000, 0 0 12px rgba(0,0,0,.45);
    padding:0 3vw;
  }
  .copy .dash{ letter-spacing:.05em; }
  .copy strong{ font-weight:600; color:#fff; }

  /* フッター(小さく) */
  footer{ color:#777; font-size:12px; text-align:center; padding:12px 0 20px; }
</style>
</head>
<body>

<!-- 言語スイッチ -->
<nav class="lang" aria-label="language">
  <button data-lang="ja" class="active">日本語</button>
  <button data-lang="en">English</button>
  <button data-lang="fr">Français</button>
</nav>

<!-- Hero -->
<section class="hero">
  <!-- “毛筆”の白い筆跡（SVGだけで生成） -->
  <svg class="lines" viewBox="0 0 1600 400" preserveAspectRatio="none" aria-hidden="true">
    <defs>
      <!-- エッジを荒らして毛筆化 -->
      <filter id="rough">
        <feTurbulence type="fractalNoise" baseFrequency="0.007 0.03" numOctaves="2" seed="7" result="noise"/>
        <feDisplacementMap in="SourceGraphic" in2="noise" scale="22" xChannelSelector="R" yChannelSelector="B"/>
      </filter>
      <!-- 先端の掠れマスク -->
      <linearGradient id="fade" x1="0" x2="1" y1="0" y2="0">
        <stop offset="0%" stop-color="white" stop-opacity="0"/>
        <stop offset="8%" stop-color="white" stop-opacity="1"/>
        <stop offset="92%" stop-color="white" stop-opacity="1"/>
        <stop offset="100%" stop-color="white" stop-opacity="0"/>
      </linearGradient>
      <mask id="feather">
        <rect x="0" y="0" width="1600" height="400" fill="url(#fade)"/>
      </mask>
      <!-- 軽い影 -->
      <filter id="softshadow" x="-10%" y="-80%" width="120%" height="260%">
        <feGaussianBlur stdDeviation="14" result="b"/>
        <feOffset dy="25" result="o"/>
        <feMerge>
          <feMergeNode in="o"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>

    <!-- 太い一筆（カーブ） -->
    <path d="M 40 210 C 520 120, 1120 300, 1560 160"
          fill="none" stroke="white" stroke-width="130" stroke-linecap="round"
          filter="url(#rough)" mask="url(#feather)" filter="url(#softshadow)"/>
    <!-- 返しの細い二筆目（軽く） -->
    <path d="M 160 260 C 600 190, 1080 310, 1500 230"
          fill="none" stroke="white" stroke-opacity="0.75" stroke-width="44" stroke-linecap="round"
          filter="url(#rough)" mask="url(#feather)"/>
  </svg>

  <!-- 詩（3言語切替対象） -->
  <div class="copy" id="poem">
    <div>京町家の梁の下、</div>
    <div>静けさがアリアのように歌う。</div>
    <div class="dash">――一つの音 ー 木の呼吸、</div>
    <div>空間に静けさが宿り、魂へと響く。</div>
  </div>
</section>

<footer>© SATORI Kyoto Project</footer>

<script>
  const texts = {
    ja: [
      "京町家の梁の下、",
      "静けさがアリアのように歌う。",
      "――一つの音 ー 木の呼吸、",
      "空間に静けさが宿り、魂へと響く。"
    ],
    en: [
      "Under the beams of a Kyomachiya,",
      "silence sings like an aria.",
      "— a single note — the breath of wood,",
      "stillness inhabits the space and resonates with the soul."
    ],
    fr: [
      "Sous les poutres d’un Kyomachiya,",
      "le silence chante comme une aria.",
      "— une seule note — le bois qui respire,",
      "le silence habite l’espace et résonne dans l’âme."
    ]
  };

  const poemEl = document.getElementById('poem');
  const btns = document.querySelectorAll('.lang button');
  btns.forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const lang = btn.dataset.lang;
      // ボタンの見た目
      btns.forEach(b=>b.classList.toggle('active', b===btn));
      // 文言差し替え
      poemEl.innerHTML = texts[lang].map(line=>{
        // 中央のダッシュ行だけクラス付け
        const isDash = line.includes("—");
        return `<div class="${isDash?'dash':''}">${line}</div>`;
      }).join("");
      // html の lang も更新
      document.documentElement.setAttribute('lang', lang);
    });
  });
</script>
</body>
</html>
